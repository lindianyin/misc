<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LibU: JSON</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Intro</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>JSON</h1><hr/><a name="_details"></a><h2>Overview</h2>
<p>The <a class="el" href="group__json.html">JSON</a> module implements a family of routines that allow encoding, decoding and validation of JSON objects as defined in <a href="http://www.ietf.org/rfc/rfc4627.txt">RFC 4627</a>.</p>
<h2><a class="anchor" id="decode">
Decoding</a></h2>
<p>A NUL-terminated string in JSON syntax is decoded into its parse tree by means of the <a class="el" href="group__json.html#ga2a8e8fa0a64443e5060a65fbc6a8af16" title="Break down a JSON string into pieces.">u_json_decode</a> function as the showed in the following snippet:</p>
<div class="fragment"><pre class="fragment">    <a class="code" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> *jo = NULL;
    <span class="keyword">const</span> <span class="keywordtype">char</span> *i2 = <span class="stringliteral">&quot;[ [ 1, 0 ], [ 0, 1 ] ]&quot;</span>;

    dbg_err_if (<a class="code" href="group__json.html#ga2a8e8fa0a64443e5060a65fbc6a8af16" title="Break down a JSON string into pieces.">u_json_decode</a>(i2, &amp;jo));
</pre></div><h2><a class="anchor" id="validate">
Validating</a></h2>
<p>Should you just need to check the supplied string for syntax compliance (i.e. without actually creating the syntax tree), the <a class="el" href="group__json.html#ga98ede4a2558d79c102b25370bfe4f03e" title="Validate the supplied JSON string.">u_json_validate</a> interface can be used: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">char</span> status[U_LEXER_ERR_SZ];

    <span class="keywordflow">if</span> (<a class="code" href="group__json.html#ga98ede4a2558d79c102b25370bfe4f03e" title="Validate the supplied JSON string.">u_json_validate</a>(i2, status))
        u_con(<span class="stringliteral">&quot;Syntax error: %s&quot;</span>, status);
</pre></div><p>You should not use the validating interface on untrusted input. In fact no maximum nesting depth is enforced on validation -- on the contrary, the parsing interface has the compile-time define <a class="el" href="group__json.html#ga5fc6b58d9ec27beee08dc524658fb69b" title="Size of access keys to JSON values (can be changed at compile time via -DU_JSON_FQN_SZ=nnn...">U_JSON_MAX_DEPTH</a> for such purpose -- so a malicious user could make your application stack explode by simply supplying a big-enough string made by all <code>'</code>[' chars. The intended use of the validating interface is for checking your hand-crafted JSON strings before pushing them out, i.e. those you've created without going through all the <a class="el" href="group__json.html#ga10775785fe1621d19609dc7d4a355958" title="Create a new and empty JSON object container.">u_json_new</a> -&gt; <a class="el" href="group__json.html#ga25c8c6d78574162fe0e806b0a446e74c" title="Add a child JSON object to its parent container.">u_json_add</a> -&gt; <a class="el" href="group__json.html#ga0448a7c0e48763582950fc2d369832f9" title="Encode a JSON object.">u_json_encode</a> chain.</p>
<h2><a class="anchor" id="cache">
Indexing</a></h2>
<p>Once the string has been parsed and (implicitly or explicitly) validated, should your application request frequent and/or massive access to its deeply nested attributes, then you may want to create an auxiliary index to the parse tree via <a class="el" href="group__json.html#ga93df68dd829b86d1f24f56af91553e19" title="Index JSON object contents.">u_json_index</a>. This way its nodes can be accessed via a unique (and unambiguous -- provided that no anonymous key is embedded into the JSON object) naming scheme, similar to the typical struct/array access in C, i.e.:</p>
<ul>
<li>"." is the root node;</li>
<li>".k" is used to access value in the parent object stored under the key "k";</li>
<li>"[i]" is used to access the i-th value in the parent array.</li>
</ul>
<p>So, for example, the string ".I2[0][0]" would retrieve the value "1" from "{ "I2": [ [ 1, 0 ], [ 0, 1 ] ] }".</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">long</span> l;

    dbg_err_if (<a class="code" href="group__json.html#ga93df68dd829b86d1f24f56af91553e19" title="Index JSON object contents.">u_json_index</a>(jo));

    <a class="code" href="group__json.html#ga19db4d2caf72b0f9e47f56447c1ce963" title="Wrapper around u_json_cache_get to retrieve integer values from terminal (i.e. non-container)...">u_json_cache_get_int</a>(jo, <span class="stringliteral">&quot;.[0][0]&quot;</span>, &amp;l);    <span class="comment">// l = 1</span>
    <a class="code" href="group__json.html#ga19db4d2caf72b0f9e47f56447c1ce963" title="Wrapper around u_json_cache_get to retrieve integer values from terminal (i.e. non-container)...">u_json_cache_get_int</a>(jo, <span class="stringliteral">&quot;.[0][1]&quot;</span>, &amp;l);    <span class="comment">// l = 0</span>
    <a class="code" href="group__json.html#ga19db4d2caf72b0f9e47f56447c1ce963" title="Wrapper around u_json_cache_get to retrieve integer values from terminal (i.e. non-container)...">u_json_cache_get_int</a>(jo, <span class="stringliteral">&quot;.[1][0]&quot;</span>, &amp;l);    <span class="comment">// l = 0</span>
    <a class="code" href="group__json.html#ga19db4d2caf72b0f9e47f56447c1ce963" title="Wrapper around u_json_cache_get to retrieve integer values from terminal (i.e. non-container)...">u_json_cache_get_int</a>(jo, <span class="stringliteral">&quot;.[1][1]&quot;</span>, &amp;l);    <span class="comment">// l = 1</span>
</pre></div><p>Please note that when index'ed, the parse tree enters a "frozen" state in which nothing but values and types of non-container objects (i.e. string, number, boolean and null's) can be changed. So, if you want to come back to full tree manipulation, you must remove the indexing structure by means of u_json_deindex -- which invalidates any subsequent cached access attempt.</p>
<h2><a class="anchor" id="build">
Building and Encoding</a></h2>
<p>JSON objects can be created ex-nihil via the u_json_new_* family of functions, and then encoded in their serialized form via the <a class="el" href="group__json.html#ga0448a7c0e48763582950fc2d369832f9" title="Encode a JSON object.">u_json_encode</a> interface: </p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">char</span> *s = NULL;
    <a class="code" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> *root = NULL, *leaf = NULL;

    dbg_err_if (<a class="code" href="group__json.html#ga2507e15a144d5f67141f88f5df6d2822" title="Wrapper function that creates an object container (key may be NULL).">u_json_new_object</a>(NULL, &amp;root));
    dbg_err_if (<a class="code" href="group__json.html#ga7cd3da41aa5b4602d559a7ac3e8d3979" title="Create new JSON number object from long integer.">u_json_new_int</a>(<span class="stringliteral">&quot;integer&quot;</span>, 999, &amp;leaf));
    dbg_err_if (<a class="code" href="group__json.html#ga25c8c6d78574162fe0e806b0a446e74c" title="Add a child JSON object to its parent container.">u_json_add</a>(root, leaf));
    leaf = NULL;

    <span class="comment">// encode it, should give: &quot;{ &quot;integer&quot;: 999 }&quot;</span>
    <a class="code" href="group__json.html#ga0448a7c0e48763582950fc2d369832f9" title="Encode a JSON object.">u_json_encode</a>(root, &amp;s);
</pre></div><h2><a class="anchor" id="iter">
Iterators</a></h2>
<p>The last basic concept that the user needs to know to work effectively with the JSON module is iteration. Iterators allow efficient and safe traversal of container types (i.e. arrays and objects), where a naive walk strategy based on <a class="el" href="group__json.html#ga4dd8532df473a04afd74393301f2542b" title="Get n-th element from jo array.">u_json_array_get_nth</a> would instead lead to performance collapse as access time is quadratic in the number of elements in the container.</p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">long</span> i, e;
    <a class="code" href="structu__json__it__t.html" title="Opaque iterator for traversing arrays and objects.">u_json_it_t</a> jit;
    <a class="code" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> *jo = NULL, *cur;
    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <span class="stringliteral">&quot;[ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ]&quot;</span>;

    dbg_err_if (<a class="code" href="group__json.html#ga2a8e8fa0a64443e5060a65fbc6a8af16" title="Break down a JSON string into pieces.">u_json_decode</a>(s, &amp;jo));

    <span class="comment">// init array iterator from first element and go forward.</span>
    dbg_err_if (<a class="code" href="group__json.html#ga36f81657ca8f0687d2eb646a3dfaff0f" title="Initialize the iterator at it initially attached to jo.">u_json_it</a>(<a class="code" href="group__json.html#ga154400fe0a5a18c8ccc971eeba7f0e0f" title="Return the first child (if any) from the supplied container jo.">u_json_child_first</a>(jo), &amp;jit));

    <span class="keywordflow">for</span> (i = 1; (cur = <a class="code" href="group__json.html#ga5c35403612546354f050beef3c197f49" title="Get JSON element under cursor and step cursor in the forward direction.">u_json_it_next</a>(&amp;jit)) != NULL; i++)
    {
        dbg_err_if (<a class="code" href="group__json.html#ga9d1057426519d58be32c6eef38b69f3d" title="Get the long int value of the non-container object jo.">u_json_get_int</a>(cur, &amp;e));
        dbg_err_if (e != i);    <span class="comment">// e = 1..10</span>
    }
</pre></div><h2><a class="anchor" id="rfcimpl">
RFC implementation</a></h2>
<p>The following implementation choices have been made (re Section 4. of RFC 4627):</p>
<table class="doxtable">
<tr>
<th>MAY </th><th>Answer </th><th>Notes  </th></tr>
<tr>
<td>Accept non-JSON forms or extensions ? </td><td><b>NO</b> </td><td>Trailing non-JSON text is allowed (though warned) at the end of string. I.e. the input string in scanned until the outermost container is matched.   </td></tr>
<tr>
<td>Set limits on the size of accepted texts ? </td><td><b>NO</b> </td><td>Depending only upon the memory available to the parsing process.   </td></tr>
<tr>
<td>Set limits on the maximum depth of nesting ? </td><td><b>YES</b> </td><td>Made available to the parsing interface through the compile-time constant <a class="el" href="group__json.html#ga5fc6b58d9ec27beee08dc524658fb69b" title="Size of access keys to JSON values (can be changed at compile time via -DU_JSON_FQN_SZ=nnn...">U_JSON_MAX_DEPTH</a>. The validating interface ignores this limit, and as such should be used with care (i.e. never on untrusted input).   </td></tr>
<tr>
<td>Set limits on the range of numbers ? </td><td><b>NO</b> </td><td>All numerical values are stored as strings. Truncation/conversion issues can arise only when trying to extract their <code>long</code> or <code>double</code> counterparts through the <a class="el" href="group__json.html#ga9d1057426519d58be32c6eef38b69f3d" title="Get the long int value of the non-container object jo.">u_json_get_int</a> or <a class="el" href="group__json.html#ga599c1c4247edbab50ae82cf8ce7f38ef" title="Get the double precision FP value of the non-container object jo.">u_json_get_real</a> commodity interfaces. In case they fail you can still access the original (C-string) value through <a class="el" href="group__json.html#gaed1ed48721e4724527a3c5221786cc77" title="Get the value associated with the non-container object jo.">u_json_get_val</a>.   </td></tr>
<tr>
<td>Set limits on the length and character contents of strings ? </td><td><b>YES</b> </td><td>String length for both keys and values are upper-bounded by the compile-time constant <a class="el" href="group__lexer.html#gafe1cdcc3c4a12b5d3bbc44de6a59d7b0" title="Maximum size of input tokens (can be changed at compile time via -DU_TOKEN_SZ=nnn...">U_TOKEN_SZ</a>.   </td></tr>
</table>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structu__json__it__t.html">u_json_it_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opaque iterator for traversing arrays and objects.  <a href="structu__json__it__t.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga5fc6b58d9ec27beee08dc524658fb69b">U_JSON_MAX_DEPTH</a>&nbsp;&nbsp;&nbsp;16</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Size of access keys to JSON values (can be changed at compile time via <code>-DU_JSON_FQN_SZ=nnn</code> flag).  <a href="#ga5fc6b58d9ec27beee08dc524658fb69b"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaee50434734165c279374c31dda6d53d6"></a><!-- doxytag: member="json::u_json_t" ref="gaee50434734165c279374c31dda6d53d6" args="" -->
typedef struct u_json_s&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal representation of any JSON object. <br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__json.html#gga06fc87d81c62e9abb8790b6e5713c55ba2974fd27fae766fc85703a60c389c56f">U_JSON_WALK_PREORDER</a>, 
<a class="el" href="group__json.html#gga06fc87d81c62e9abb8790b6e5713c55ba3b2d3f00d1d5deb1622db090637d8e38">U_JSON_WALK_POSTORDER</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Walk strategy when traversing JSON objects. </p>
 <a href="group__json.html#ga06fc87d81c62e9abb8790b6e5713c55b">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a> { , <br/>
&nbsp;&nbsp;<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6aeb85a84b66bd29942463e7d6717994c2">U_JSON_TYPE_STRING</a>, 
<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6ac4acc424228a373fd194d7c5c686cff4">U_JSON_TYPE_NUMBER</a>, 
<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6a5320fb135fe1efbf4e735c681c8cde97">U_JSON_TYPE_OBJECT</a>, 
<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6ac80d51319afc7d2584e1a779d2e97bce">U_JSON_TYPE_ARRAY</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6a9d059d5dbc61cfa3ce0324f1cdcf6350">U_JSON_TYPE_TRUE</a>, 
<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6a24dc62ada03eb6bae88b3956b214c402">U_JSON_TYPE_FALSE</a>, 
<a class="el" href="group__json.html#ggaebf54b616ff7263d6d7a77ad19cc69f6a221de27e6503e0a96733c6bb35ab5d4e">U_JSON_TYPE_NULL</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>JSON base types. </p>
 <a href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga2a8e8fa0a64443e5060a65fbc6a8af16">u_json_decode</a> (const char *json, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Break down a JSON string into pieces.  <a href="#ga2a8e8fa0a64443e5060a65fbc6a8af16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga0448a7c0e48763582950fc2d369832f9">u_json_encode</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, char **ps)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encode a JSON object.  <a href="#ga0448a7c0e48763582950fc2d369832f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga98ede4a2558d79c102b25370bfe4f03e">u_json_validate</a> (const char *json, char status[U_LEXER_ERR_SZ])</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Validate the supplied JSON string.  <a href="#ga98ede4a2558d79c102b25370bfe4f03e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga93df68dd829b86d1f24f56af91553e19">u_json_index</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Index JSON object contents.  <a href="#ga93df68dd829b86d1f24f56af91553e19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gafb18b33da116897ed184b24638c58d26">u_json_unindex</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove cache from JSON object.  <a href="#gafb18b33da116897ed184b24638c58d26"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga2e3e252c81b240d147eb42d3de5d77c1">u_json_cache_get</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve JSON node by its cache name.  <a href="#ga2e3e252c81b240d147eb42d3de5d77c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2e2a1f81485f546ac215d14f0c902adf"></a><!-- doxytag: member="json::u_json_cache_get_val" ref="ga2e2a1f81485f546ac215d14f0c902adf" args="(u_json_t *jo, const char *name)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga2e2a1f81485f546ac215d14f0c902adf">u_json_cache_get_val</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper around <a class="el" href="group__json.html#ga2e3e252c81b240d147eb42d3de5d77c1" title="Retrieve JSON node by its cache name.">u_json_cache_get</a> to retrieve string values from terminal (i.e. non-container) objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga19db4d2caf72b0f9e47f56447c1ce963"></a><!-- doxytag: member="json::u_json_cache_get_int" ref="ga19db4d2caf72b0f9e47f56447c1ce963" args="(u_json_t *jo, const char *name, long *pval)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga19db4d2caf72b0f9e47f56447c1ce963">u_json_cache_get_int</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name, long *pval)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper around <a class="el" href="group__json.html#ga2e3e252c81b240d147eb42d3de5d77c1" title="Retrieve JSON node by its cache name.">u_json_cache_get</a> to retrieve integer values from terminal (i.e. non-container) objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga84dd9d7dd64d1161849b94be6011d80a"></a><!-- doxytag: member="json::u_json_cache_get_real" ref="ga84dd9d7dd64d1161849b94be6011d80a" args="(u_json_t *jo, const char *name, double *pval)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga84dd9d7dd64d1161849b94be6011d80a">u_json_cache_get_real</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name, double *pval)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper around <a class="el" href="group__json.html#ga2e3e252c81b240d147eb42d3de5d77c1" title="Retrieve JSON node by its cache name.">u_json_cache_get</a> to retrieve double precision FP values from terminal (i.e. non-container) objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa348ef2bd12f6a47a4fd41731ac1dc86"></a><!-- doxytag: member="json::u_json_cache_get_bool" ref="gaa348ef2bd12f6a47a4fd41731ac1dc86" args="(u_json_t *jo, const char *name, char *pval)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaa348ef2bd12f6a47a4fd41731ac1dc86">u_json_cache_get_bool</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name, char *pval)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper around <a class="el" href="group__json.html#ga2e3e252c81b240d147eb42d3de5d77c1" title="Retrieve JSON node by its cache name.">u_json_cache_get</a> to retrieve boolean values from terminal (i.e. non-container) objects. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga9a07f0f0422bab027c79b221dca8549b">u_json_cache_set_tv</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *name, <a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a> type, const char *val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set JSON node's type and value by its cache name.  <a href="#ga9a07f0f0422bab027c79b221dca8549b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga10775785fe1621d19609dc7d4a355958">u_json_new</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new and empty JSON object container.  <a href="#ga10775785fe1621d19609dc7d4a355958"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaad7ce5336f2429d3f6929f197f111e45">u_json_free</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dispose any resource allocated to a JSON object.  <a href="#gaad7ce5336f2429d3f6929f197f111e45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2507e15a144d5f67141f88f5df6d2822"></a><!-- doxytag: member="json::u_json_new_object" ref="ga2507e15a144d5f67141f88f5df6d2822" args="(const char *key, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga2507e15a144d5f67141f88f5df6d2822">u_json_new_object</a> (const char *key, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper function that creates an object container (<code>key</code> may be <code>NULL</code>). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga71f1d88f87d68bd864b37004731e998a"></a><!-- doxytag: member="json::u_json_new_array" ref="ga71f1d88f87d68bd864b37004731e998a" args="(const char *key, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga71f1d88f87d68bd864b37004731e998a">u_json_new_array</a> (const char *key, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wrapper function that creates an array container. (<code>key</code> may be <code>NULL</code>). <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gade039adbe6070e1d7e955f024a94474c"></a><!-- doxytag: member="json::u_json_new_string" ref="gade039adbe6070e1d7e955f024a94474c" args="(const char *key, const char *val, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gade039adbe6070e1d7e955f024a94474c">u_json_new_string</a> (const char *key, const char *val, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON string object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa061f89f0edaf4b10751724041ba6744"></a><!-- doxytag: member="json::u_json_new_number" ref="gaa061f89f0edaf4b10751724041ba6744" args="(const char *key, const char *val, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaa061f89f0edaf4b10751724041ba6744">u_json_new_number</a> (const char *key, const char *val, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON number object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga58c60df6b89cda62a45cf73957ed15d3"></a><!-- doxytag: member="json::u_json_new_real" ref="ga58c60df6b89cda62a45cf73957ed15d3" args="(const char *key, double val, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga58c60df6b89cda62a45cf73957ed15d3">u_json_new_real</a> (const char *key, double val, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON number object from double precision FP number. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7cd3da41aa5b4602d559a7ac3e8d3979"></a><!-- doxytag: member="json::u_json_new_int" ref="ga7cd3da41aa5b4602d559a7ac3e8d3979" args="(const char *key, long val, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga7cd3da41aa5b4602d559a7ac3e8d3979">u_json_new_int</a> (const char *key, long val, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON number object from long integer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9d95dda557f65917c54a0f4596a0869e"></a><!-- doxytag: member="json::u_json_new_null" ref="ga9d95dda557f65917c54a0f4596a0869e" args="(const char *key, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga9d95dda557f65917c54a0f4596a0869e">u_json_new_null</a> (const char *key, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON null object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gae9fcbf2c5e50d32d96b5f81ffa110f1c"></a><!-- doxytag: member="json::u_json_new_bool" ref="gae9fcbf2c5e50d32d96b5f81ffa110f1c" args="(const char *key, char val, u_json_t **pjo)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gae9fcbf2c5e50d32d96b5f81ffa110f1c">u_json_new_bool</a> (const char *key, char val, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **pjo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new JSON true or false object. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga82660bacd70df0fe47fe1b5946012b62">u_json_set_key</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the key of a JSON object.  <a href="#ga82660bacd70df0fe47fe1b5946012b62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga98f61e57bd8bc2bb8911610e175ba90e"></a><!-- doxytag: member="json::u_json_set_val" ref="ga98f61e57bd8bc2bb8911610e175ba90e" args="(u_json_t *jo, const char *val)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga98f61e57bd8bc2bb8911610e175ba90e">u_json_set_val</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, const char *val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">u_json_set_val_ex wrapper with no <code>val</code> syntax check <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga4a0e439949fc7c67517cc292ccff1281">u_json_set_type</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, <a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a> type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the type of a JSON object.  <a href="#ga4a0e439949fc7c67517cc292ccff1281"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga25c8c6d78574162fe0e806b0a446e74c">u_json_add</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *head, <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a child JSON object to its parent container.  <a href="#ga25c8c6d78574162fe0e806b0a446e74c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga4cd39d5f2400697df436f601d5c8af31">u_json_remove</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove an object from its JSON container.  <a href="#ga4cd39d5f2400697df436f601d5c8af31"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaed1ed48721e4724527a3c5221786cc77"></a><!-- doxytag: member="json::u_json_get_val" ref="gaed1ed48721e4724527a3c5221786cc77" args="(u_json_t *jo)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaed1ed48721e4724527a3c5221786cc77">u_json_get_val</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the value associated with the non-container object <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9d1057426519d58be32c6eef38b69f3d"></a><!-- doxytag: member="json::u_json_get_int" ref="ga9d1057426519d58be32c6eef38b69f3d" args="(u_json_t *jo, long *pl)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga9d1057426519d58be32c6eef38b69f3d">u_json_get_int</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, long *pl)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the <code>long</code> <code>int</code> value of the non-container object <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga599c1c4247edbab50ae82cf8ce7f38ef"></a><!-- doxytag: member="json::u_json_get_real" ref="ga599c1c4247edbab50ae82cf8ce7f38ef" args="(u_json_t *jo, double *pd)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga599c1c4247edbab50ae82cf8ce7f38ef">u_json_get_real</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, double *pd)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the <code>double</code> precision FP value of the non-container object <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaae79d5745bb6d5ebc29a3a4975b22d0d"></a><!-- doxytag: member="json::u_json_get_bool" ref="gaae79d5745bb6d5ebc29a3a4975b22d0d" args="(u_json_t *jo, char *pb)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaae79d5745bb6d5ebc29a3a4975b22d0d">u_json_get_bool</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, char *pb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the boolean value of the non-container object <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga154400fe0a5a18c8ccc971eeba7f0e0f"></a><!-- doxytag: member="json::u_json_child_first" ref="ga154400fe0a5a18c8ccc971eeba7f0e0f" args="(u_json_t *jo)" -->
<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga154400fe0a5a18c8ccc971eeba7f0e0f">u_json_child_first</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the first child (if any) from the supplied container <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa6ca5303aa0f190e6a113adfb423e6d7"></a><!-- doxytag: member="json::u_json_child_last" ref="gaa6ca5303aa0f190e6a113adfb423e6d7" args="(u_json_t *jo)" -->
<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#gaa6ca5303aa0f190e6a113adfb423e6d7">u_json_child_last</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the last child (if any) from the supplied container <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga9c7a0a534c45ff7f5dcabe6205e9a244"></a><!-- doxytag: member="json::u_json_array_count" ref="ga9c7a0a534c45ff7f5dcabe6205e9a244" args="(u_json_t *jo)" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga9c7a0a534c45ff7f5dcabe6205e9a244">u_json_array_count</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the number of elements in array <code>jo</code>, or <code>0</code> on error. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4dd8532df473a04afd74393301f2542b"></a><!-- doxytag: member="json::u_json_array_get_nth" ref="ga4dd8532df473a04afd74393301f2542b" args="(u_json_t *jo, unsigned int n)" -->
<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga4dd8532df473a04afd74393301f2542b">u_json_array_get_nth</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, unsigned int n)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get n-th element from <code>jo</code> array. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga52699cd28cbed4f3527627536816345d">u_json_print</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print to stderr the internal representation of a JSON object.  <a href="#ga52699cd28cbed4f3527627536816345d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga1c204ec8e0d6f904ee327d02189ec956">u_json_walk</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, int strategy, size_t l, void(*cb)(<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *, size_t, void *), void *cb_args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pre/post-order tree walker.  <a href="#ga1c204ec8e0d6f904ee327d02189ec956"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga36f81657ca8f0687d2eb646a3dfaff0f"></a><!-- doxytag: member="json::u_json_it" ref="ga36f81657ca8f0687d2eb646a3dfaff0f" args="(u_json_t *jo, u_json_it_t *it)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga36f81657ca8f0687d2eb646a3dfaff0f">u_json_it</a> (<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *jo, <a class="el" href="structu__json__it__t.html">u_json_it_t</a> *it)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the iterator at <code>it</code> initially attached to <code>jo</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5c35403612546354f050beef3c197f49"></a><!-- doxytag: member="json::u_json_it_next" ref="ga5c35403612546354f050beef3c197f49" args="(u_json_it_t *it)" -->
<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga5c35403612546354f050beef3c197f49">u_json_it_next</a> (<a class="el" href="structu__json__it__t.html">u_json_it_t</a> *it)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get JSON element under cursor and step cursor in the forward direction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga790e28bc0dbb1a9a17c3527b005f1a27"></a><!-- doxytag: member="json::u_json_it_prev" ref="ga790e28bc0dbb1a9a17c3527b005f1a27" args="(u_json_it_t *it)" -->
<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__json.html#ga790e28bc0dbb1a9a17c3527b005f1a27">u_json_it_prev</a> (<a class="el" href="structu__json__it__t.html">u_json_it_t</a> *it)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get JSON element under cursor and step cursor in the backwards direction. <br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga5fc6b58d9ec27beee08dc524658fb69b"></a><!-- doxytag: member="json.h::U_JSON_MAX_DEPTH" ref="ga5fc6b58d9ec27beee08dc524658fb69b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U_JSON_MAX_DEPTH&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max nesting of JSON fields (can be changed at compile time via <code>-DU_JSON_MAX_DEPTH=nnn</code> flag) </p>

<p>Definition at line <a class="el" href="json_8h_source.html#l00058">58</a> of file <a class="el" href="json_8h_source.html">json.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga06fc87d81c62e9abb8790b6e5713c55b"></a><!-- doxytag: member="json.h::@0" ref="ga06fc87d81c62e9abb8790b6e5713c55b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga06fc87d81c62e9abb8790b6e5713c55ba2974fd27fae766fc85703a60c389c56f"></a><!-- doxytag: member="U_JSON_WALK_PREORDER" ref="gga06fc87d81c62e9abb8790b6e5713c55ba2974fd27fae766fc85703a60c389c56f" args="" -->U_JSON_WALK_PREORDER</em>&nbsp;</td><td>
<p>pre-order tree walk </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga06fc87d81c62e9abb8790b6e5713c55ba3b2d3f00d1d5deb1622db090637d8e38"></a><!-- doxytag: member="U_JSON_WALK_POSTORDER" ref="gga06fc87d81c62e9abb8790b6e5713c55ba3b2d3f00d1d5deb1622db090637d8e38" args="" -->U_JSON_WALK_POSTORDER</em>&nbsp;</td><td>
<p>post-order tree walk </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="json_8h_source.html#l00031">31</a> of file <a class="el" href="json_8h_source.html">json.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaebf54b616ff7263d6d7a77ad19cc69f6"></a><!-- doxytag: member="json.h::u_json_type_t" ref="gaebf54b616ff7263d6d7a77ad19cc69f6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6aeb85a84b66bd29942463e7d6717994c2"></a><!-- doxytag: member="U_JSON_TYPE_STRING" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6aeb85a84b66bd29942463e7d6717994c2" args="" -->U_JSON_TYPE_STRING</em>&nbsp;</td><td>
<p>string type </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6ac4acc424228a373fd194d7c5c686cff4"></a><!-- doxytag: member="U_JSON_TYPE_NUMBER" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6ac4acc424228a373fd194d7c5c686cff4" args="" -->U_JSON_TYPE_NUMBER</em>&nbsp;</td><td>
<p>number (i.e. int, frac or exp) type </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6a5320fb135fe1efbf4e735c681c8cde97"></a><!-- doxytag: member="U_JSON_TYPE_OBJECT" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6a5320fb135fe1efbf4e735c681c8cde97" args="" -->U_JSON_TYPE_OBJECT</em>&nbsp;</td><td>
<p>object container </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6ac80d51319afc7d2584e1a779d2e97bce"></a><!-- doxytag: member="U_JSON_TYPE_ARRAY" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6ac80d51319afc7d2584e1a779d2e97bce" args="" -->U_JSON_TYPE_ARRAY</em>&nbsp;</td><td>
<p>array container </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6a9d059d5dbc61cfa3ce0324f1cdcf6350"></a><!-- doxytag: member="U_JSON_TYPE_TRUE" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6a9d059d5dbc61cfa3ce0324f1cdcf6350" args="" -->U_JSON_TYPE_TRUE</em>&nbsp;</td><td>
<p>a boolean true value </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6a24dc62ada03eb6bae88b3956b214c402"></a><!-- doxytag: member="U_JSON_TYPE_FALSE" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6a24dc62ada03eb6bae88b3956b214c402" args="" -->U_JSON_TYPE_FALSE</em>&nbsp;</td><td>
<p>a boolean false value </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggaebf54b616ff7263d6d7a77ad19cc69f6a221de27e6503e0a96733c6bb35ab5d4e"></a><!-- doxytag: member="U_JSON_TYPE_NULL" ref="ggaebf54b616ff7263d6d7a77ad19cc69f6a221de27e6503e0a96733c6bb35ab5d4e" args="" -->U_JSON_TYPE_NULL</em>&nbsp;</td><td>
<p>an explicit null value </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="json_8h_source.html#l00037">37</a> of file <a class="el" href="json_8h_source.html">json.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga25c8c6d78574162fe0e806b0a446e74c"></a><!-- doxytag: member="json.h::u_json_add" ref="ga25c8c6d78574162fe0e806b0a446e74c" args="(u_json_t *head, u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the child JSON object <code>jo</code> to its parent container <code>head</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>head</em>&nbsp;</td><td>Pointer to the parent container </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the child JSON object that shall be attached</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00478">478</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="json_8h_source.html#l00042">U_JSON_TYPE_ARRAY</a>.</p>

</div>
</div>
<a class="anchor" id="ga2e3e252c81b240d147eb42d3de5d77c1"></a><!-- doxytag: member="json.h::u_json_cache_get" ref="ga2e3e252c81b240d147eb42d3de5d77c1" args="(u_json_t *jo, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> * u_json_cache_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Possibly retrieve a JSON node by its (fully qualified, or relative) cache <code>name</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be searched </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>name of the element that must be searched</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the retrieved JSON (sub)object on success; <code>NULL</code> in case <code>key</code> was not found </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00739">739</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00378">u_hmap_easy_get()</a>, and <a class="el" href="srcs_2toolbox_2misc_8c_source.html#l00359">u_snprintf()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00819">u_json_array_get_nth()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00971">u_json_cache_get_bool()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00949">u_json_cache_get_int()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00960">u_json_cache_get_real()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00940">u_json_cache_get_val()</a>, and <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00781">u_json_cache_set_tv()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a07f0f0422bab027c79b221dca8549b"></a><!-- doxytag: member="json.h::u_json_cache_set_tv" ref="ga9a07f0f0422bab027c79b221dca8549b" args="(u_json_t *jo, const char *name, u_json_type_t type, const char *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_cache_set_tv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set type and value of the supplied JSON (leaf) node by its (fully qualified or relative) cache <code>name</code>. If <code>type</code> is U_JSON_TYPE_UNKNOWN the underlying type will be left untouched.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to an <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>name of the element that must be set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>new type (or U_JSON_TYPE_UNKNOWN if no type change) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>new value. MUST be non-NULL in case we are setting a string a or number.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00781">781</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00739">u_json_cache_get()</a>, <a class="el" href="json_8h_source.html#l00042">U_JSON_TYPE_ARRAY</a>, <a class="el" href="json_8h_source.html#l00040">U_JSON_TYPE_NUMBER</a>, <a class="el" href="json_8h_source.html#l00041">U_JSON_TYPE_OBJECT</a>, <a class="el" href="json_8h_source.html#l00039">U_JSON_TYPE_STRING</a>, and <a class="el" href="srcs_2toolbox_2misc_8c_source.html#l00203">u_strlcpy()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2a8e8fa0a64443e5060a65fbc6a8af16"></a><!-- doxytag: member="json.h::u_json_decode" ref="ga2a8e8fa0a64443e5060a65fbc6a8af16" args="(const char *json, u_json_t **pjo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_decode </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **&nbsp;</td>
          <td class="paramname"> <em>pjo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parse and (implicitly) validate the supplied JSON string <code>json</code>. In case of success, its internal representation is returned into the result argument <code>*pjo</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>json</em>&nbsp;</td><td>A NUL-terminated string containing some serialized JSON </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pjo</em>&nbsp;</td><td>Result argument which will point to the internal representation of the parsed <code>json</code> string</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00516">516</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0448a7c0e48763582950fc2d369832f9"></a><!-- doxytag: member="json.h::u_json_encode" ref="ga0448a7c0e48763582950fc2d369832f9" args="(u_json_t *jo, char **ps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>ps</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Encode the supplied JSON object <code>jo</code> to the result string pointed by <code>*ps</code> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be encoded </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ps</em>&nbsp;</td><td>serialized JSON text corresponding to <code>jo</code> </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00581">581</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="str_8c_source.html#l00240">u_string_create()</a>, <a class="el" href="str_8c_source.html#l00083">u_string_detach_cstr()</a>, and <a class="el" href="str_8c_source.html#l00274">u_string_free()</a>.</p>

</div>
</div>
<a class="anchor" id="gaad7ce5336f2429d3f6929f197f111e45"></a><!-- doxytag: member="json.h::u_json_free" ref="gaad7ce5336f2429d3f6929f197f111e45" args="(u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_json_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dispose any resource allocated to the supplied JSON object <code>jo</code> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be free'd</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00549">549</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00318">u_hmap_easy_free()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00613">u_json_walk()</a>, and <a class="el" href="json_8h_source.html#l00033">U_JSON_WALK_POSTORDER</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00991">u_json_remove()</a>.</p>

</div>
</div>
<a class="anchor" id="ga93df68dd829b86d1f24f56af91553e19"></a><!-- doxytag: member="json.h::u_json_index" ref="ga93df68dd829b86d1f24f56af91553e19" args="(u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Index all contents of the supplied <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> top-level object <code>jo</code>. After data has been indexed, no more key/type modifications are possible on this object; instead, values of leaf nodes can still be changed. Also, either child node addition nor removal is possible after the object has been cached. If <code>jo</code> needs to be changed in aforementioned ways (type, key, addition or removal), it must be explicitly <a class="el" href="group__json.html#gafb18b33da116897ed184b24638c58d26" title="Remove cache from JSON object.">u_json_unindex</a>'ed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be indexed</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00670">670</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00318">u_hmap_easy_free()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00274">u_hmap_easy_new()</a>, <a class="el" href="hmap_8h_source.html#l00047">U_HMAP_OPTS_DATATYPE_POINTER</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01112">u_hmap_opts_free()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01086">u_hmap_opts_new()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01420">u_hmap_opts_set_val_freefunc()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01391">u_hmap_opts_set_val_type()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00613">u_json_walk()</a>, and <a class="el" href="json_8h_source.html#l00032">U_JSON_WALK_PREORDER</a>.</p>

</div>
</div>
<a class="anchor" id="ga10775785fe1621d19609dc7d4a355958"></a><!-- doxytag: member="json.h::u_json_new" ref="ga10775785fe1621d19609dc7d4a355958" args="(u_json_t **pjo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> **&nbsp;</td>
          <td class="paramname"> <em>pjo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new and empty JSON object container and return its handler as the result argument <code>*pjo</code> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pjo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> that will be returned</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00301">301</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="memory_8c_source.html#l00085">u_free()</a>, and <a class="el" href="memory_8c_source.html#l00073">u_zalloc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga52699cd28cbed4f3527627536816345d"></a><!-- doxytag: member="json.h::u_json_print" ref="ga52699cd28cbed4f3527627536816345d" args="(u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_json_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print to stderr the supplied JSON object <code>jo</code> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be printed</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00646">646</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00613">u_json_walk()</a>, and <a class="el" href="json_8h_source.html#l00032">U_JSON_WALK_PREORDER</a>.</p>

</div>
</div>
<a class="anchor" id="ga4cd39d5f2400697df436f601d5c8af31"></a><!-- doxytag: member="json.h::u_json_remove" ref="ga4cd39d5f2400697df436f601d5c8af31" args="(u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove an object from its JSON container. This interface falls back to <a class="el" href="group__json.html#gaad7ce5336f2429d3f6929f197f111e45" title="Dispose any resource allocated to a JSON object.">u_json_free</a> in case the supplied <code>jo</code> is the root node.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be removed</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00991">991</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00549">u_json_free()</a>, and <a class="el" href="json_8h_source.html#l00042">U_JSON_TYPE_ARRAY</a>.</p>

</div>
</div>
<a class="anchor" id="ga82660bacd70df0fe47fe1b5946012b62"></a><!-- doxytag: member="json.h::u_json_set_key" ref="ga82660bacd70df0fe47fe1b5946012b62" args="(u_json_t *jo, const char *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_set_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the key of the JSON object <code>jo</code> to the string value pointed by <code>key</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to a <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>Pointer to the key string. In case <code>key</code> <code>NULL</code> the value is reset to the empty string.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00443">443</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2misc_8c_source.html#l00203">u_strlcpy()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a0e439949fc7c67517cc292ccff1281"></a><!-- doxytag: member="json.h::u_json_set_type" ref="ga4a0e439949fc7c67517cc292ccff1281" args="(u_json_t *jo, u_json_type_t type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_set_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6">u_json_type_t</a>&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the type of the supplied JSON object <code>jo</code> to <code>type</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to a <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>One of the available <a class="el" href="group__json.html#gaebf54b616ff7263d6d7a77ad19cc69f6" title="JSON base types.">u_json_type_t</a> types</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00336">336</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="json_8h_source.html#l00042">U_JSON_TYPE_ARRAY</a>, <a class="el" href="json_8h_source.html#l00044">U_JSON_TYPE_FALSE</a>, <a class="el" href="json_8h_source.html#l00045">U_JSON_TYPE_NULL</a>, <a class="el" href="json_8h_source.html#l00040">U_JSON_TYPE_NUMBER</a>, <a class="el" href="json_8h_source.html#l00041">U_JSON_TYPE_OBJECT</a>, <a class="el" href="json_8h_source.html#l00039">U_JSON_TYPE_STRING</a>, and <a class="el" href="json_8h_source.html#l00043">U_JSON_TYPE_TRUE</a>.</p>

</div>
</div>
<a class="anchor" id="gafb18b33da116897ed184b24638c58d26"></a><!-- doxytag: member="json.h::u_json_unindex" ref="gafb18b33da116897ed184b24638c58d26" args="(u_json_t *jo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_unindex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove the whole cacheing machinery from the previously <a class="el" href="group__json.html#ga93df68dd829b86d1f24f56af91553e19" title="Index JSON object contents.">u_json_index</a>'d <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object <code>jo</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to the <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object that must be de-indexed</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00716">716</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00318">u_hmap_easy_free()</a>.</p>

</div>
</div>
<a class="anchor" id="ga98ede4a2558d79c102b25370bfe4f03e"></a><!-- doxytag: member="json.h::u_json_validate" ref="ga98ede4a2558d79c102b25370bfe4f03e" args="(const char *json, char status[U_LEXER_ERR_SZ])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_json_validate </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>status</em>[U_LEXER_ERR_SZ]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Validate the supplied JSON string <code>json</code>. In case <code>json</code> contains invalid syntax, the parser/lexer error message is returned into <code>status</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>json</em>&nbsp;</td><td>A NUL-terminated string containing some serialized JSON </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>In case of error, this result argument will contain an explanation message from the parser/lexer.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>~0</em>&nbsp;</td><td>on failure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00534">534</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c204ec8e0d6f904ee327d02189ec956"></a><!-- doxytag: member="json.h::u_json_walk" ref="ga1c204ec8e0d6f904ee327d02189ec956" args="(u_json_t *jo, int strategy, size_t l, void(*cb)(u_json_t *, size_t, void *), void *cb_args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_json_walk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *&nbsp;</td>
          <td class="paramname"> <em>jo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6">u_json_t</a> *, size_t, void *)&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cb_args</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Traverse the supplied JSON object <code>jo</code> in pre/post-order, depending on <code>strategy</code>, invoking the callback function <code>cb</code> on each node.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>jo</em>&nbsp;</td><td>Pointer to <a class="el" href="group__json.html#gaee50434734165c279374c31dda6d53d6" title="Internal representation of any JSON object.">u_json_t</a> object to traverse </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>strategy</em>&nbsp;</td><td>one of <a class="el" href="group__json.html#gga06fc87d81c62e9abb8790b6e5713c55ba2974fd27fae766fc85703a60c389c56f">U_JSON_WALK_PREORDER</a> or <a class="el" href="group__json.html#gga06fc87d81c62e9abb8790b6e5713c55ba3b2d3f00d1d5deb1622db090637d8e38">U_JSON_WALK_POSTORDER</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l</em>&nbsp;</td><td>depth level in the JSON tree (the root is at depth 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>function to invoke on each traversed node </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb_args</em>&nbsp;</td><td>optional opaque data which will be supplied to <code>cb</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>nothing </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00613">613</a> of file <a class="el" href="srcs_2toolbox_2json_8c_source.html">srcs/toolbox/json.c</a>.</p>

<p>References <a class="el" href="json_8h_source.html#l00033">U_JSON_WALK_POSTORDER</a>, and <a class="el" href="json_8h_source.html#l00032">U_JSON_WALK_PREORDER</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00549">u_json_free()</a>, <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00670">u_json_index()</a>, and <a class="el" href="srcs_2toolbox_2json_8c_source.html#l00646">u_json_print()</a>.</p>

</div>
</div>
</div>
<hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2012 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
