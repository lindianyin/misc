<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LibU: hmap: Advanced Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Intro</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>hmap: Advanced Interface<br/>
<small>
[<a class="el" href="group__hmap.html">HMap</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga7ce6b19d0119c6fd572939e44ce5015f">u_hmap_new</a> (u_hmap_opts_t *opts, u_hmap_t **phmap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new hmap.  <a href="#ga7ce6b19d0119c6fd572939e44ce5015f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#gac99af4e9807bf8e111ce7ccafe2f3fe8">u_hmap_clear</a> (u_hmap_t *hmap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear hmap.  <a href="#gac99af4e9807bf8e111ce7ccafe2f3fe8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#gae1bd9af30e3296e2b4ae6b2b335204dc">u_hmap_free</a> (u_hmap_t *hmap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deallocate hmap.  <a href="#gae1bd9af30e3296e2b4ae6b2b335204dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga4dca7f57fa59f117e1e67593ab7b0221">u_hmap_put</a> (u_hmap_t *hmap, u_hmap_o_t *obj, u_hmap_o_t **old)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert an object into the hmap.  <a href="#ga4dca7f57fa59f117e1e67593ab7b0221"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#gaf91d7ba0fa846ed81d763b53f9564186">u_hmap_get</a> (u_hmap_t *hmap, const void *key, u_hmap_o_t **obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve an object from the hmap.  <a href="#gaf91d7ba0fa846ed81d763b53f9564186"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga2da59d88348e117e91b2720e7a26b1d8">u_hmap_del</a> (u_hmap_t *hmap, const void *key, u_hmap_o_t **obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete an object from the hmap.  <a href="#ga2da59d88348e117e91b2720e7a26b1d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_hmap_o_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#gab90cfcf17909ced1312ff2eb3556da61">u_hmap_o_new</a> (u_hmap_t *hmap, const void *key, const void *val)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a data object (<b>unused for hmap_easy interface</b>).  <a href="#gab90cfcf17909ced1312ff2eb3556da61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#gada431a853ae5b58513297242a2d5eeaa">u_hmap_o_free</a> (u_hmap_o_t *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a data object (<b>unused for hmap_easy interface</b>).  <a href="#gada431a853ae5b58513297242a2d5eeaa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga83a6958a409cc944342ca6b44fa54882"></a><!-- doxytag: member="hmap_full::u_hmap_o_get_key" ref="ga83a6958a409cc944342ca6b44fa54882" args="(u_hmap_o_t *obj)" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga83a6958a409cc944342ca6b44fa54882">u_hmap_o_get_key</a> (u_hmap_o_t *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access the key of the hmap element pointed to by <code>obj</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3a07461f725fd35ef8971874c0e62d19"></a><!-- doxytag: member="hmap_full::u_hmap_o_get_val" ref="ga3a07461f725fd35ef8971874c0e62d19" args="(u_hmap_o_t *obj)" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga3a07461f725fd35ef8971874c0e62d19">u_hmap_o_get_val</a> (u_hmap_o_t *obj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Access the value of the hmap element pointed to by <code>obj</code>. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hmap__full.html#ga0e0a82cd3de8307585b5169a546ae687">u_hmap_count</a> (u_hmap_t *hmap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Count the number of elements currently stored in hmap.  <a href="#ga0e0a82cd3de8307585b5169a546ae687"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gac99af4e9807bf8e111ce7ccafe2f3fe8"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_clear" ref="gac99af4e9807bf8e111ce7ccafe2f3fe8" args="(u_hmap_t *hmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_hmap_clear </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears all hmap elements. Objects are freed via free() by default or using the custom deallocation function passed in the hmap options.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00611">611</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00302">u_hmap_easy_clear()</a>, and <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00646">u_hmap_free()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e0a82cd3de8307585b5169a546ae687"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_count" ref="ga0e0a82cd3de8307585b5169a546ae687" args="(u_hmap_t *hmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t u_hmap_count </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Count the number of elements currently stored in the supplied <code>hmap</code> object</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of elements currently stored in hmap, or -1 on error </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01059">1059</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2da59d88348e117e91b2720e7a26b1d8"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_del" ref="ga2da59d88348e117e91b2720e7a26b1d8" args="(u_hmap_t *hmap, const void *key, u_hmap_o_t **obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_hmap_del </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_hmap_o_t **&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Delete object with given <code>key</code> from <code>hmap</code> and return it (if the object is owned by user).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key of object to be deleted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>deleted object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_NONE</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_FAIL</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00838">838</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="hmap_8h_source.html#l00039">U_HMAP_OPTS_OWNSDATA</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00398">u_hmap_easy_del()</a>.</p>

</div>
</div>
<a class="anchor" id="gae1bd9af30e3296e2b4ae6b2b335204dc"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_free" ref="gae1bd9af30e3296e2b4ae6b2b335204dc" args="(u_hmap_t *hmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_hmap_free </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deallocate <code>hmap</code> along with all hmapd objects (unless U_HMAP_OPTS_OWNSDATA is set). Objects are freed via free() by default or using the custom deallocation function passed in the hmap options.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00646">646</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="memory_8c_source.html#l00085">u_free()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00611">u_hmap_clear()</a>, and <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01112">u_hmap_opts_free()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00318">u_hmap_easy_free()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf91d7ba0fa846ed81d763b53f9564186"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_get" ref="gaf91d7ba0fa846ed81d763b53f9564186" args="(u_hmap_t *hmap, const void *key, u_hmap_o_t **obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_hmap_get </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_hmap_o_t **&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve object with given <code>key</code> from <code>hmap</code>. On success the requested object is returned in <code>obj</code>. The object is not removed from the hmap, so ownership of the object is not returned to the user.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key to be retrieved </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>returned object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_NONE</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_FAIL</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00803">803</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00378">u_hmap_easy_get()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7ce6b19d0119c6fd572939e44ce5015f"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_new" ref="ga7ce6b19d0119c6fd572939e44ce5015f" args="(u_hmap_opts_t *opts, u_hmap_t **phmap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_hmap_new </td>
          <td>(</td>
          <td class="paramtype">u_hmap_opts_t *&nbsp;</td>
          <td class="paramname"> <em>opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_hmap_t **&nbsp;</td>
          <td class="paramname"> <em>phmap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new hmap object and save its pointer to <code>*hmap</code>. The call may fail on memory allocation problems or if the options are manipulated incorrectly.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>opts</em>&nbsp;</td><td>options to be passed to the hmap (may be NULL) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phmap</em>&nbsp;</td><td>on success contains the hmap options object</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_NONE</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_FAIL</em>&nbsp;</td><td>on failure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00551">551</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="memory_8c_source.html#l00085">u_free()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01162">u_hmap_opts_copy()</a>, <a class="el" href="hmap_8h_source.html#l00048">U_HMAP_OPTS_DATATYPE_STRING</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01181">u_hmap_opts_dbg()</a>, <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01086">u_hmap_opts_new()</a>, and <a class="el" href="memory_8c_source.html#l00073">u_zalloc()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00274">u_hmap_easy_new()</a>.</p>

</div>
</div>
<a class="anchor" id="gada431a853ae5b58513297242a2d5eeaa"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_o_free" ref="gada431a853ae5b58513297242a2d5eeaa" args="(u_hmap_o_t *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void u_hmap_o_free </td>
          <td>(</td>
          <td class="paramtype">u_hmap_o_t *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees a data object (without freeing its content). This function should only be used if U_HMAP_OPTS_OWNSDATA is not set to free objects allocated with <a class="el" href="group__hmap.html#gab90cfcf17909ced1312ff2eb3556da61" title="Create a data object (unused for hmap_easy interface).">u_hmap_o_new()</a>. If U_HMAP_OPTS_OWNSDATA is set, the data is freed automatically by the hashmap by using the default free function or the overridden f_free().</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>hmap object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00951">951</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="memory_8c_source.html#l00085">u_free()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00881">u_hmap_o_new()</a>.</p>

</div>
</div>
<a class="anchor" id="gab90cfcf17909ced1312ff2eb3556da61"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_o_new" ref="gab90cfcf17909ced1312ff2eb3556da61" args="(u_hmap_t *hmap, const void *key, const void *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_hmap_o_t* u_hmap_o_new </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new (key, value) tuple to be inserted into a hmap. By default, the user is responsible for allocation and deallocation of these objects and their content. If the option U_HMAP_OPTS_OWNSDATA is set</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>reference to parent hmap </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>pointer to the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>pointer to the oject</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer to a new u_hmap_o_t </dd></dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00881">881</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00951">u_hmap_o_free()</a>, <a class="el" href="hmap_8h_source.html#l00049">U_HMAP_OPTS_DATATYPE_OPAQUE</a>, <a class="el" href="hmap_8h_source.html#l00047">U_HMAP_OPTS_DATATYPE_POINTER</a>, <a class="el" href="hmap_8h_source.html#l00048">U_HMAP_OPTS_DATATYPE_STRING</a>, <a class="el" href="hmap_8h_source.html#l00039">U_HMAP_OPTS_OWNSDATA</a>, <a class="el" href="srcs_2toolbox_2misc_8c_source.html#l00183">u_strdup()</a>, and <a class="el" href="memory_8c_source.html#l00073">u_zalloc()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00353">u_hmap_easy_put()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4dca7f57fa59f117e1e67593ab7b0221"></a><!-- doxytag: member="srcs/toolbox/hmap.c::u_hmap_put" ref="ga4dca7f57fa59f117e1e67593ab7b0221" args="(u_hmap_t *hmap, u_hmap_o_t *obj, u_hmap_o_t **old)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int u_hmap_put </td>
          <td>(</td>
          <td class="paramtype">u_hmap_t *&nbsp;</td>
          <td class="paramname"> <em>hmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_hmap_o_t *&nbsp;</td>
          <td class="paramname"> <em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_hmap_o_t **&nbsp;</td>
          <td class="paramname"> <em>old</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Insert a (key, val) pair <code>obj</code> into <code>hmap</code>. Such object should be created with <a class="el" href="group__hmap.html#gab90cfcf17909ced1312ff2eb3556da61" title="Create a data object (unused for hmap_easy interface).">u_hmap_o_new()</a>. The user is responsible for allocation of keys and values unless U_HMAP_OPTS_OWNSDATA is set. If a value is overwritten (U_HMAP_OPTS_NO_OVERWRITE must be unset via <a class="el" href="group__hmap.html#gaf1838e38cf06534fe341d19725a29884" title="Unset option in options mask (hmap_easy interface cannot operate on U_HMAP_OPTS_OWNSDATA)...">u_hmap_opts_unset_option()</a>) and data is owned by the user, the <code>old</code> value is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hmap</em>&nbsp;</td><td>hmap object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>key to be inserted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>old</em>&nbsp;</td><td>returned old value</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_NONE</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_EXISTS</em>&nbsp;</td><td>if key already exists </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>U_HMAP_ERR_FAIL</em>&nbsp;</td><td>on other failures </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00673">673</a> of file <a class="el" href="srcs_2toolbox_2hmap_8c_source.html">srcs/toolbox/hmap.c</a>.</p>

<p>References <a class="el" href="hmap_8h_source.html#l00041">U_HMAP_OPTS_HASH_STRONG</a>, <a class="el" href="hmap_8h_source.html#l00069">U_HMAP_PCY_NONE</a>, <a class="el" href="hmap_8h_source.html#l00030">U_HMAP_TYPE_CHAIN</a>, <a class="el" href="hmap_8h_source.html#l00031">U_HMAP_TYPE_LINEAR</a>, and <a class="el" href="srcs_2toolbox_2misc_8c_source.html#l00359">u_snprintf()</a>.</p>

<p>Referenced by <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l01516">u_hmap_copy()</a>, and <a class="el" href="srcs_2toolbox_2hmap_8c_source.html#l00353">u_hmap_easy_put()</a>.</p>

</div>
</div>
</div>
<hr>
<div>
  <div style="text-align:left">
    <a href="http://www.koanlogic.com/products.html">&larr;Products</a>
  </div>
  <div style="text-align:center;">
    &copy; 2005-2012 - <a href="http://www.koanlogic.com">KoanLogic S.r.l.</a> - All rights reserved
  </div>
</div>

</body>
</html>
